===== COMPONENT: animated-mobile-navbar =====
Title: Animated Mobile Navbar
Description: The Animated Mobile Navbar component.

--- file: react/atlasui/animated-mobile-navbar.tsx ---
"use client";

import Link from "next/link";

import { createContext, useContext, useState } from "react";
import { AnimatePresence, motion } from "motion/react";
import { usePathname } from "next/navigation";
import { XIcon } from "lucide-react";

import { Button } from "@/components/ui/button";

interface AnimatedMobileNavbarContextProps {
  open: boolean;
  toggle: () => void;
}

const AnimatedMobileNavbarContext =
  createContext<AnimatedMobileNavbarContextProps | null>(null);

export const useAnimatedMobileNavbar = () => {
  const context = useContext(AnimatedMobileNavbarContext);
  if (!context) {
    throw new Error(
      "useAnimatedMobileNavbar must be used within an AnimatedMobileNavbar",
    );
  }
  return context;
};

const AnimatedMobileNavbar = ({ children }: { children: React.ReactNode }) => {
  const [open, setOpen] = useState(false);
  const toggle = () => setOpen((prev) => !prev);

  return (
    <AnimatedMobileNavbarContext.Provider value={{ open, toggle }}>
      {children}
    </AnimatedMobileNavbarContext.Provider>
  );
};

const AnimatedMobileNavbarTrigger = ({
  children,
}: {
  children: React.ReactNode;
}) => {
  const { toggle } = useAnimatedMobileNavbar();

  return <div onClick={toggle}>{children}</div>;
};

const AnimatedMobileNavbarContent = ({
  children,
  side = "top",
}: {
  children: React.ReactNode;
  side?: "left" | "right" | "top";
}) => {
  const { open, toggle } = useAnimatedMobileNavbar();

  const menuVariants = {
    initial: {
      scaleY: side === "top" ? 0 : 1,
      scaleX: side === "left" || side === "right" ? 0 : 1,
      x: side === "left" ? "-100%" : side === "right" ? "100%" : 0,
    },
    animate: {
      scaleY: 1,
      scaleX: 1,
      x: 0,
      transition: {
        duration: 0.5,
        ease: (side === "top" ? [0.12, 0, 0.39, 0] : [0, 0.55, 0.45, 1]) as [
          number,
          number,
          number,
          number,
        ],
      },
    },
    exit: {
      scaleY: side === "top" ? 0 : 1,
      scaleX: side === "left" || side === "right" ? 0 : 1,
      x: side === "left" ? "-100%" : side === "right" ? "100%" : 0,
      transition: {
        delay: 0.5,
        duration: 0.5,
        ease: (side === "top" ? [0.22, 1, 0.36, 1] : [0.61, 1, 0.88, 1]) as [
          number,
          number,
          number,
          number,
        ],
      },
    },
  };

  const containerVariants = {
    initial: {
      transition: {
        staggerChildren: 0.09,
        staggerDirection: -1,
      },
    },
    open: {
      transition: {
        delay: 0.3,
        staggerChildren: 0.09,
        staggerDirection: 1,
      },
    },
  };

  return (
    <AnimatePresence>
      {open && (
        <motion.div
          className={`fixed bg-primary-foreground h-screen w-full left-0 top-0 z-50 py-10 px-5 origin-top ${
            side === "left"
              ? "origin-left"
              : side === "right"
                ? "origin-right"
                : "origin-top"
          }`}
          variants={menuVariants}
          initial="initial"
          animate="animate"
          exit="exit"
        >
          <Button
            variant="ghost"
            size="icon"
            onClick={toggle}
            className="absolute top-5 right-5 text-foreground"
          >
            <XIcon />
          </Button>

          <motion.div
            className="flex flex-col items-center justify-center space-y-8 mt-16"
            variants={containerVariants}
            initial="initial"
            animate="open"
            exit="initial"
          >
            {children}
          </motion.div>
        </motion.div>
      )}
    </AnimatePresence>
  );
};

const AnimatedMobileNavbarLink = ({
  href,
  label,
  onClick,
}: {
  href: string;
  label: string;
  onClick?: () => void;
}) => {
  const pathname = usePathname();
  const isActive =
    (pathname?.includes(href) && href.length > 1) || pathname === href;

  const linkVariants = {
    initial: {
      y: "30vh",
      transition: {
        duration: 0.5,
        ease: [0.37, 0, 0.36, 1] as [number, number, number, number],
      },
    },
    open: {
      y: 0,
      transition: {
        duration: 0.7,
        ease: [0, 0.55, 0.45, 1] as [number, number, number, number],
      },
    },
  };

  return (
    <div className="overflow-hidden">
      <motion.div variants={linkVariants}>
        <Link
          href={href}
          className={`mx-4 relative hover:after:scale-x-125 hover:text-primary text-lg uppercase font-bold text-muted-foreground ${
            isActive ? "text-primary" : "text-muted-foreground"
          } after:content-[''] after:absolute after:bg-primary after:h-px after:w-full after:left-0 after:-bottom-0.5 after:scale-x-0 after:duration-300`}
          onClick={onClick}
        >
          {label}
        </Link>
      </motion.div>
    </div>
  );
};

export {
  AnimatedMobileNavbar,
  AnimatedMobileNavbarTrigger,
  AnimatedMobileNavbarContent,
  AnimatedMobileNavbarLink,
};


===== EXAMPLE: animated-mobile-navbar-demo =====
Title: animated-mobile-navbar-demo

--- file: react/examples/animated-mobile-navbar-demo.tsx ---
import {
  AnimatedMobileNavbar,
  AnimatedMobileNavbarContent,
  AnimatedMobileNavbarLink,
  AnimatedMobileNavbarTrigger,
} from "@/registry/react/atlasui/animated-mobile-navbar";

export const AnimatedMobileNavbarDemo = () => {
  return (
    <AnimatedMobileNavbar>
      <AnimatedMobileNavbarTrigger>Open</AnimatedMobileNavbarTrigger>
      <AnimatedMobileNavbarContent>
        <AnimatedMobileNavbarLink label="Home" href="#" />
        <AnimatedMobileNavbarLink label="About" href="#" />
        <AnimatedMobileNavbarLink label="Services" href="#" />
        <AnimatedMobileNavbarLink label="Contact Us" href="#" />
        <AnimatedMobileNavbarLink label="Pricing" href="#" />
      </AnimatedMobileNavbarContent>
    </AnimatedMobileNavbar>
  );
};


===== EXAMPLE: animated-mobile-navbar-side-example =====
Title: animated-mobile-navbar-side-example

--- file: react/examples/animated-mobile-navbar-side-example.tsx ---
import {
  AnimatedMobileNavbar,
  AnimatedMobileNavbarContent,
  AnimatedMobileNavbarLink,
  AnimatedMobileNavbarTrigger,
} from "@/registry/react/atlasui/animated-mobile-navbar";
import { Button } from "@/components/ui/button";

const SIDES = ["left", "top", "right"] as const;

// lets see if this appears??

export const AnimatedMobileNavbarSidesExample = () => {
  return (
    <div className="flex gap-2">
      {SIDES.map((side) => (
        <AnimatedMobileNavbar key={side}>
          <AnimatedMobileNavbarTrigger>
            <Button variant="outline">{side}</Button>
          </AnimatedMobileNavbarTrigger>
          <AnimatedMobileNavbarContent side={side}>
            <AnimatedMobileNavbarLink label="Home" href="#" />
            <AnimatedMobileNavbarLink label="About" href="#" />
            <AnimatedMobileNavbarLink label="Services" href="#" />
            <AnimatedMobileNavbarLink label="Contact Us" href="#" />
            <AnimatedMobileNavbarLink label="Pricing" href="#" />
          </AnimatedMobileNavbarContent>
        </AnimatedMobileNavbar>
      ))}
    </div>
  );
};



===== COMPONENT: blend-mouse-trailer =====
Title: Blend Mouse Trailer
Description: The Blend Mouse Trailer component.

--- file: react/atlasui/blend-mouse-trailer.tsx ---
"use client";

import { motion, useMotionValue, useSpring } from "motion/react";
import { useEffect, useState, useMemo } from "react";

export const BlendMouseTrailer = ({ isHovered }: { isHovered: boolean }) => {
  const [isVisible, setIsVisible] = useState(false);

  const mouse = {
    x: useMotionValue(0),
    y: useMotionValue(0),
  };

  const smoothOptions = {
    damping: 20,
    stiffness: 300,
    mass: 0.5,
  };

  const smoothMouse = {
    x: useSpring(mouse.x, smoothOptions),
    y: useSpring(mouse.y, smoothOptions),
  };

  const size = useMemo(() => (isHovered ? 300 : 30), [isHovered]);

  const mouseMove = (e: MouseEvent) => {
    const { clientX, clientY } = e;

    mouse.x.set(clientX - size / 2);
    mouse.y.set(clientY - size / 2);
    setIsVisible(true);
  };

  useEffect(() => {
    window.addEventListener("mousemove", mouseMove);

    return () => {
      window.removeEventListener("mousemove", mouseMove);
    };
  }, [size]);

  return (
    <motion.div
      className={`${
        isVisible ? "hidden md:block" : "hidden"
      } rounded-full bg-sky-300 fixed top-0 left-0 pointer-events-none mix-blend-difference`}
      style={{
        left: smoothMouse.x,
        top: smoothMouse.y,
        height: size,
        width: size,
        filter: `blur(${isHovered ? 30 : 0}px)`,
        transition:
          "height 0.3s ease-out, width 0.3s ease-out, filter 0.3s ease-out",
      }}
    />
  );
};


===== EXAMPLE: blend-mouse-trailer-demo =====
Title: blend-mouse-trailer-demo

--- file: react/examples/blend-mouse-trailer-demo.tsx ---
"use client";

import { useState } from "react";
import { BlendMouseTrailer } from "@/registry/react/atlasui/blend-mouse-trailer";

export const BlendMouseTrailerDemo = () => {
  const [isHovered, setIsHovered] = useState(false);
  return (
    <div className="h-full">
      <h1
        onMouseEnter={() => setIsHovered(true)}
        onMouseLeave={() => setIsHovered(false)}
        className="text-5xl text-center"
      >
        AtlasUI is an open-source library offering a suite of prebuilt animated
        components for React, Next.js, and Vanilla JS.
      </h1>

      <BlendMouseTrailer isHovered={isHovered} />
    </div>
  );
};



===== COMPONENT: blob-mouse-trailer =====
Title: Blob Mouse Trailer
Description: The Blob Mouse Trailer component.

--- file: react/atlasui/blob-mouse-trailer.tsx ---
"use client";

import { motion, useMotionValue, useSpring } from "motion/react";
import { useEffect, useState } from "react";

export const BlobMouseTrailer = () => {
  const [isVisible, setIsVisible] = useState(false);

  const mouse = {
    x: useMotionValue(0),
    y: useMotionValue(0),
  };

  const mouseMove = (e: any) => {
    const { clientX, clientY } = e;
    mouse.x.set(clientX - 192);
    mouse.y.set(clientY - 192);
    setIsVisible(true);
  };

  const smoothOptions = {
    damping: 10,
    stiffness: 35,
    mass: 0.5,
  };

  const smoothMouse = {
    x: useSpring(mouse.x, smoothOptions),
    y: useSpring(mouse.y, smoothOptions),
  };

  useEffect(() => {
    window.addEventListener("mousemove", mouseMove);

    return () => {
      window.removeEventListener("mousemove", mouseMove);
    };
  }, []);
  return (
    <motion.div
      className={` ${
        isVisible ? "hidden md:block" : "hidden"
      } h-96 w-96 rounded-full bg-linear-to-r from-purple-500 to-amber-500 fixed top-0 left-0 pointer-events-none animate-rotate opacity-80 -z-10 blur-[100px]`}
      style={{
        left: smoothMouse.x,
        top: smoothMouse.y,
      }}
    />
  );
};


===== EXAMPLE: blob-mouse-trailer-demo =====
Title: blob-mouse-trailer-demo

--- file: react/examples/blob-mouse-trailer-demo.tsx ---
import { BlobMouseTrailer } from "@/registry/react/atlasui/blob-mouse-trailer";

export const BlobMouseTrailerDemo = () => {
  return (
    <div>
      <p>Move you mouse around ;)</p>
      <BlobMouseTrailer />
    </div>
  );
};



===== COMPONENT: dot-and-circle-mouse-trailer =====
Title: Dot And Circle Mouse Trailer
Description: The Dot And Circle Mouse Trailer component.

--- file: react/atlasui/dot-and-circle-mouse-trailer.tsx ---
"use client";

import React, { useEffect, useState } from "react";
import { motion, useMotionValue, useSpring } from "motion/react";

export const DotAndCircleMouseTrailer = () => {
  const [isVisible, setIsVisible] = useState(false);

  // Cursor Dot
  const mouse = {
    x: useMotionValue(0),
    y: useMotionValue(0),
  };

  const mouseMove = (e: any) => {
    const { clientX, clientY } = e;
    mouse.x.set(clientX - 4);
    mouse.y.set(clientY - 4);
    setIsVisible(true);
  };

  const smoothOptions = {
    damping: 20,
    stiffness: 300,
    mass: 0.5,
  };

  const smoothMouse = {
    x: useSpring(mouse.x, smoothOptions),
    y: useSpring(mouse.y, smoothOptions),
  };

  //   Cursor Outline
  const mouseOutline = {
    _x: useMotionValue(0),
    _y: useMotionValue(0),
  };

  const outlineMouse = (e: any) => {
    const { clientX, clientY } = e;
    mouseOutline._x.set(clientX - 40);
    mouseOutline._y.set(clientY - 40);
  };

  const outlineOptions = {
    damping: 10,
    stiffness: 50,
    mass: 0.5,
  };
  const smoothOutline = {
    _x: useSpring(mouseOutline._x, outlineOptions),
    _y: useSpring(mouseOutline._y, outlineOptions),
  };

  useEffect(() => {
    window.addEventListener("mousemove", mouseMove);
    window.addEventListener("mousemove", outlineMouse);

    return () => {
      window.removeEventListener("mousemove", mouseMove);
      window.removeEventListener("mousemove", outlineMouse);
    };
  }, []);

  return (
    <motion.div
      className={`${
        isVisible ? "hidden md:block" : "hidden"
      } h-20 w-20 fixed border rounded-full top-0 left-0 pointer-events-none z-50 border-black dark:border-white`}
      style={{
        left: smoothOutline._x,
        top: smoothOutline._y,
      }}
    >
      <motion.div
        className="hidden md:block h-2 w-2 rounded-full bg-black dark:bg-white fixed top-0 left-0 pointer-events-none"
        style={{
          left: smoothMouse.x,
          top: smoothMouse.y,
        }}
      />
    </motion.div>
  );
};


===== EXAMPLE: dot-and-circle-mouse-trailer-demo =====
Title: dot-and-circle-mouse-trailer-demo

--- file: react/examples/dot-and-circle-mouse-trailer-demo.tsx ---
import { DotAndCircleMouseTrailer } from "@/registry/react/atlasui/dot-and-circle-mouse-trailer";

export const DotAndCircleMouseTrailerDemo = () => {
  return (
    <div>
      <p>Move you mouse around ;)</p>
      <DotAndCircleMouseTrailer />
    </div>
  );
};



===== COMPONENT: hacker-text =====
Title: Hacker Text
Description: The Hacker Text component.

--- file: react/atlasui/hacker-text.tsx ---
"use client";

import { Bebas_Neue } from "next/font/google";
import { useEffect } from "react";

const bebas = Bebas_Neue({ subsets: ["latin"], weight: ["400"] });

export const HackerText = ({ text }: { text: string }) => {
  const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";

  useEffect(() => {
    const textElement = document.getElementById("text");
    let interval: NodeJS.Timeout | null = null;
    let timeout: NodeJS.Timeout | null = null;

    const scrambleText = (target: HTMLElement) => {
      let iteration = 0;

      clearInterval(interval as NodeJS.Timeout);

      interval = setInterval(() => {
        if (!target.dataset.value) return;

        target.innerText = target.innerText
          .split("")
          .map((letter, index) => {
            if (index < iteration) {
              return target.dataset.value![index];
            }
            return letters[Math.floor(Math.random() * 26)];
          })
          .join("");

        if (iteration >= target.dataset.value.length) {
          clearInterval(interval as NodeJS.Timeout);
        }

        iteration += 1 / 3;
      }, 30);
    };

    const applyEffect = () => {
      if (window.matchMedia("(min-width: 768px)").matches) {
        // For non-mobile devices
        if (textElement) {
          textElement.addEventListener("mouseover", (event) => {
            const target = event.target as HTMLElement;
            scrambleText(target);
          });
        }
      }
      // Run the effect after 600ms on page load for all devices
      if (textElement) {
        timeout = setTimeout(() => {
          scrambleText(textElement);
        }, 600);
      }
    };

    applyEffect();

    return () => {
      if (textElement && window.matchMedia("(min-width: 768px)").matches) {
        textElement.removeEventListener("mouseover", (event) => {
          const target = event.target as HTMLElement;
          scrambleText(target);
        });
      }
      if (interval) {
        clearInterval(interval);
      }
      if (timeout) {
        clearTimeout(timeout);
      }
    };
  }, [letters]);
  return (
    <span
      id="text"
      data-value={text}
      className={`${bebas.className} uppercase text-4xl`}
    >
      {text}
    </span>
  );
};


===== EXAMPLE: hacker-text-demo =====
Title: hacker-text-demo

--- file: react/examples/hacker-text-demo.tsx ---
import { HackerText } from "@/registry/react/atlasui/hacker-text";

export const HackerTextDemo = () => {
  return <HackerText text="Hover Me!" />;
};



===== COMPONENT: loki-text-effect =====
Title: Loki Text Effect
Description: The Loki Text Effect component.

--- file: react/atlasui/loki-text-effect.tsx ---
"use client";

import { useEffect, useState } from "react";
import { motion } from "motion/react";

import {
  fontFive,
  fontFour,
  fontOne,
  fontSeven,
  fontSix,
  fontThree,
  fontTwo,
} from "@/fonts/font";

const fonts = [
  fontOne.className,
  fontTwo.className,
  fontThree.className,
  fontFour.className,
  fontFive.className,
  fontSix.className,
  fontSeven.className,
];

interface LokiEffectProps {
  text: string;
  velocityFont?: number; // In ms
  velocityMove?: number; // In ms
  className?: string;
}

const getRandomFont = (current: string) => {
  let next = current;
  while (next === current) {
    next = fonts[Math.floor(Math.random() * fonts.length)];
  }
  return next;
};

const getRandomOffset = () => ({
  x: (Math.random() - 0.5) * 2,
  y: (Math.random() - 0.5) * 2,
});

const AnimatedLetter = ({
  char,
  baseFont,
  velocityFont,
  velocityMove,
}: {
  char: string;
  baseFont: string;
  velocityFont: number;
  velocityMove: number;
}) => {
  const [fontClass, setFontClass] = useState(baseFont);
  const [pos, setPos] = useState({ x: 0, y: 0 });

  useEffect(() => {
    const fontTimer = setInterval(
      () => {
        setFontClass((prev) => getRandomFont(prev));
      },
      Math.max(100, velocityFont),
    );

    const moveTimer = setInterval(
      () => {
        setPos(getRandomOffset());
      },
      Math.max(100, velocityMove),
    );

    return () => {
      clearInterval(fontTimer);
      clearInterval(moveTimer);
    };
  }, [velocityFont, velocityMove]);

  return (
    <motion.span
      className={`${fontClass} inline-block text-6xl md:text-9xl drop-shadow-[0_0_8px_black] dark:drop-shadow-[0_0_8px_white]`}
      style={{
        fontWeight: 700,
        letterSpacing: "0.15em",
        textShadow: "0 0 2px #ffffff66, 0 0 5px #ffffff66",
      }}
      animate={{ x: pos.x, y: pos.y }}
      transition={{
        x: { duration: 0.5, ease: "easeInOut" },
        y: { duration: 0.5, ease: "easeInOut" },
      }}
    >
      {char}
    </motion.span>
  );
};

export const LokiTextEffect = ({
  text,
  velocityFont = 800,
  velocityMove = 1800,
  className = "",
}: LokiEffectProps) => {
  return (
    <div className={`flex flex-wrap justify-center gap-px ${className}`}>
      {text.split("").map((char, i) => (
        <AnimatedLetter
          key={i}
          char={char}
          baseFont={fonts[i % fonts.length]}
          velocityFont={velocityFont}
          velocityMove={velocityMove}
        />
      ))}
    </div>
  );
};


===== EXAMPLE: loki-text-effect-demo =====
Title: loki-text-effect-demo

--- file: react/examples/loki-text-effect-demo.tsx ---
import { LokiTextEffect } from "@/registry/react/atlasui/loki-text-effect";

export const LokiTextEffectDemo = () => {
  return <LokiTextEffect text="Loki" />;
};



===== COMPONENT: parallax-sections =====
Title: Parallax Sections
Description: The Parallax Sections component.

--- file: react/atlasui/parallax-sections.tsx ---
"use client";

import { useRef } from "react";
import { motion, MotionValue, useScroll, useTransform } from "motion/react";

interface SectionProps {
  scrollYProgress: MotionValue;
}
export const ParallaxSections = () => {
  const container = useRef(null);
  const { scrollYProgress } = useScroll({
    target: container,
    offset: ["start start", "end end"],
  });

  return (
    <div ref={container} className="relative h-[200vh] w-full">
      {/* Change the height of the container according to number of Sections */}
      <Section1 scrollYProgress={scrollYProgress} />
      <Section2 scrollYProgress={scrollYProgress} />
    </div>
  );
};

const Section1 = ({ scrollYProgress }: SectionProps) => {
  const scale = useTransform(scrollYProgress, [0, 1], [1, 0.8]);
  const rotate = useTransform(scrollYProgress, [0, 1], [0, -5]);

  return (
    <motion.section
      style={{ scale, rotate }}
      className="h-screen sticky top-0 bg-neutral-700 flex items-center justify-center"
    >
      <h1 className="font-bold text-5xl">This section is Cool.</h1>
    </motion.section>
  );
};

const Section2 = ({ scrollYProgress }: SectionProps) => {
  const scale = useTransform(scrollYProgress, [0, 1], [0.8, 1]);
  const rotate = useTransform(scrollYProgress, [0, 1], [-5, 0]); // You can change the rotation if you want to add more sections below to make it look more cooler ;)

  return (
    <motion.section
      style={{ scale, rotate }}
      className="h-screen bg-red-500 relative flex items-center justify-center"
    >
      <h1 className="font-bold text-5xl">This is Cooler!</h1>
    </motion.section>
  );
};


===== EXAMPLE: parallax-sections-demo =====
Title: parallax-sections-demo

--- file: react/examples/parallax-sections-demo.tsx ---
import { ParallaxSections } from "@/registry/react/atlasui/parallax-sections";

export const ParallaxSectionsDemo = () => {
  return <ParallaxSections />;
};



===== COMPONENT: project-gallery =====
Title: Project Gallery
Description: The Project Gallery component.

--- file: react/atlasui/project-gallery.tsx ---
"use client";

import React, {
  useState,
  useRef,
  useEffect,
  Dispatch,
  SetStateAction,
  ReactNode,
} from "react";
import { motion, useMotionValue, useSpring } from "motion/react";
import Image from "next/image";
import Link from "next/link";

interface ProjectGalleryProps {
  children: ReactNode;
}

interface BaseProjectProps {
  title: string;
  subtitle: string;
  href: string;
  imgSrc: string;
  color: string;
}

interface InternalProjectProps extends BaseProjectProps {
  index: number;
  setModal: Dispatch<SetStateAction<{ active: boolean; index: number }>>;
}

interface ModalProps {
  modal: { active: boolean; index: number };
  projects: BaseProjectProps[];
  containerRef: React.RefObject<HTMLDivElement | null>;
}

const ProjectGallery = ({ children }: ProjectGalleryProps) => {
  const [modal, setModal] = useState({ active: false, index: 0 });
  const containerRef = useRef<HTMLDivElement>(null);

  return (
    <div
      ref={containerRef}
      className="grid grid-cols-1 sm:grid-cols-2 md:block relative"
    >
      {children &&
        React.Children.map(children, (child, index) => {
          if (React.isValidElement<BaseProjectProps>(child)) {
            return React.cloneElement(
              child as React.ReactElement<InternalProjectProps>,
              {
                index,
                setModal,
              },
            );
          }
          return child;
        })}
      <Modal
        modal={modal}
        projects={React.Children.toArray(children)
          .map((child) => {
            if (React.isValidElement<BaseProjectProps>(child)) {
              const { title, subtitle, imgSrc, color, href } = child.props;
              return { title, subtitle, imgSrc, color, href };
            }
            return null;
          })
          .filter((project): project is BaseProjectProps => project !== null)}
        containerRef={containerRef}
      />
    </div>
  );
};

const Project = (props: BaseProjectProps | InternalProjectProps) => {
  const { title, subtitle, href, imgSrc, color, index, setModal } =
    props as InternalProjectProps;

  return (
    <Link href={href}>
      <div
        className="flex w-full flex-col justify-between p-4 md:flex-row md:items-center md:border-t md:p-24 border-primary cursor-pointer group transition-all duration-200 ease-linear md:hover:opacity-40"
        onMouseEnter={() => setModal?.({ active: true, index })}
        onMouseLeave={() => setModal?.({ active: false, index })}
      >
        <div
          style={{ backgroundColor: color }}
          className="relative mb-4 w-full overflow-hidden aspect-4/3 md:hidden"
        >
          <Image
            src={imgSrc}
            alt={title}
            fill
            className="object-contain p-4"
            sizes="(max-width: 768px) 100vw"
          />
        </div>

        <h2 className="font-bold md:font-normal text-2xl sm:text-3xl md:text-6xl md:group-hover:-translate-x-3 transition-all duration-200 ease-linear">
          {title}
        </h2>
        <p className="font-light text-sm sm:text-base md:group-hover:translate-x-3 transition-all duration-200 ease-linear">
          {subtitle}
        </p>
      </div>
    </Link>
  );
};

const Modal = ({ modal, projects, containerRef }: ModalProps) => {
  const { index, active } = modal;
  const modalRef = useRef(null);
  const cursorRef = useRef(null);
  const cursorLabelRef = useRef(null);

  const mouse = {
    x: useMotionValue(0),
    y: useMotionValue(0),
  };

  const cursor = {
    _x: useMotionValue(0),
    _y: useMotionValue(0),
  };

  const mouseMove = (e: any) => {
    if (containerRef.current) {
      const rect = containerRef.current.getBoundingClientRect();
      const styles = getComputedStyle(containerRef.current);
      const paddingLeft = parseFloat(styles.paddingLeft) || 0;
      const paddingTop = parseFloat(styles.paddingTop) || 0;
      const borderLeftWidth = parseFloat(styles.borderLeftWidth) || 0;
      const borderTopWidth = parseFloat(styles.borderTopWidth) || 0;
      const x = e.clientX - rect.left - paddingLeft - borderLeftWidth;
      const y = e.clientY - rect.top - paddingTop - borderTopWidth;
      mouse.x.set(x);
      mouse.y.set(y);
    }
  };

  const cursorMove = (e: any) => {
    if (containerRef.current) {
      const rect = containerRef.current.getBoundingClientRect();
      const styles = getComputedStyle(containerRef.current);
      const paddingLeft = parseFloat(styles.paddingLeft) || 0;
      const paddingTop = parseFloat(styles.paddingTop) || 0;
      const borderLeftWidth = parseFloat(styles.borderLeftWidth) || 0;
      const borderTopWidth = parseFloat(styles.borderTopWidth) || 0;
      const x = e.clientX - rect.left - paddingLeft - borderLeftWidth;
      const y = e.clientY - rect.top - paddingTop - borderTopWidth;
      cursor._x.set(x);
      cursor._y.set(y);
    }
  };

  const smoothOptions = {
    damping: 40,
    stiffness: 300,
    mass: 0.5,
  };

  const cursorMoveSmoothOptions = {
    damping: 20,
    stiffness: 300,
    mass: 0.5,
  };

  const smoothMouse = {
    x: useSpring(mouse.x, smoothOptions),
    y: useSpring(mouse.y, smoothOptions),
  };

  const smoothCursor = {
    _x: useSpring(cursor._x, cursorMoveSmoothOptions),
    _y: useSpring(cursor._y, cursorMoveSmoothOptions),
  };

  useEffect(() => {
    window.addEventListener("mousemove", mouseMove);
    window.addEventListener("mousemove", cursorMove);

    return () => {
      window.removeEventListener("mousemove", mouseMove);
      window.removeEventListener("mousemove", cursorMove);
    };
  }, []);

  const scaleAnimation = {
    initial: {
      scale: 0,
      x: "-50%",
      y: "-50%",
    },
    open: {
      scale: 1,
      x: "-50%",
      y: "-50%",
      transition: {
        duration: 0.4,
        ease: [0.76, 0, 0.24, 1] as [number, number, number, number],
      },
    },
    closed: {
      scale: 0,
      x: "-50%",
      y: "-50%",
      transition: {
        duration: 0.4,
        ease: [0.32, 0, 0.67, 0] as [number, number, number, number],
      },
    },
  };

  return (
    <>
      <motion.div
        variants={scaleAnimation}
        initial={"initial"}
        animate={active ? "open" : "closed"}
        ref={modalRef}
        className="h-87.5 w-100 hidden md:flex items-center justify-center absolute overflow-hidden pointer-events-none"
        style={{
          left: smoothMouse.x,
          top: smoothMouse.y,
        }}
      >
        <div
          className="h-full w-full absolute transition-[top] duration-500 ease-[cubic-bezier(0.76, 0, 0.24, 1)]"
          style={{
            top: index * -100 + "%",
          }}
        >
          {projects.map((project, i) => {
            const { title, color, imgSrc } = project;
            return (
              <div
                key={i}
                style={{
                  backgroundColor: color,
                }}
                className="relative h-full flex items-center justify-center"
              >
                <Image
                  src={imgSrc}
                  width={350}
                  height={0}
                  alt={title}
                  className="h-auto"
                />
              </div>
            );
          })}
        </div>
      </motion.div>

      <motion.div
        variants={scaleAnimation}
        initial={"initial"}
        animate={active ? "open" : "closed"}
        ref={cursorRef}
        className="h-20 w-20 hidden md:flex items-center justify-center rounded-full absolute pointer-events-none bg-blue-600 "
        style={{
          left: smoothCursor._x,
          top: smoothCursor._y,
        }}
      />
      <motion.div
        variants={scaleAnimation}
        initial={"initial"}
        animate={active ? "open" : "closed"}
        ref={cursorLabelRef}
        className="h-20 w-20 hidden md:flex items-center justify-center rounded-full absolute pointer-events-none bg-transparent text-primary"
        style={{
          left: smoothCursor._x,
          top: smoothCursor._y,
        }}
      >
        View
      </motion.div>
    </>
  );
};

export { ProjectGallery, Project };


===== EXAMPLE: project-gallery-demo =====
Title: project-gallery-demo

--- file: react/examples/project-gallery-demo.tsx ---
import {
  Project,
  ProjectGallery,
} from "@/registry/react/atlasui/project-gallery";

export const ProjectGalleryDemo = () => {
  return (
    <div className="flex flex-col justify-center min-h-screen w-full">
      <ProjectGallery>
        <Project
          title="Atlas UI"
          subtitle="Frontend"
          href="#"
          imgSrc="/assets/atlas-ui.png"
          color="#EFE8D3"
        />
        <Project
          title="Portfolio"
          subtitle="Design & Development"
          href="#"
          imgSrc="/assets/portfolio.png"
          color="#706D63"
        />
        <Project
          title="Tokyo Art"
          subtitle="Photography"
          href="#"
          imgSrc="https://images.unsplash.com/photo-1540652980807-db4655e8fa60?q=80&w=2130&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
          color="#FAFBFC"
        />
        <Project
          title="Milky Way"
          subtitle="Photography"
          href="#"
          imgSrc="https://images.unsplash.com/photo-1515705576963-95cad62945b6?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
          color="#404040"
        />
      </ProjectGallery>
    </div>
  );
};



===== COMPONENT: reveal-effect =====
Title: Reveal Effect
Description: The Reveal Effect component.

--- file: react/atlasui/reveal-effect.tsx ---
"use client";

import { motion } from "motion/react";

interface RevealEffectProps {
  children: React.ReactNode;
  translateY?: number;
  delay?: number;
  speed?: "slow" | "medium" | "fast";
}

const speedDurations = {
  slow: 1.6,
  medium: 1,
  fast: 0.5,
};

export const RevealEffect = ({
  children,
  translateY,
  delay,
  speed = "medium",
}: RevealEffectProps) => {
  return (
    <motion.div
      initial={{
        opacity: 0,
        filter: "blur(12px)",
        clipPath: "inset(-5% 100% -5% 0)",
        translateY: translateY,
      }}
      whileInView={{
        opacity: 1,
        filter: "blur(0px)",
        clipPath: "inset(-5% 0% -5% 0)",
        translateY: 0,
      }}
      transition={{
        duration: speedDurations[speed],
        ease: "easeInOut",
        delay: delay,
      }}
      viewport={{ once: true }}
    >
      {children}
    </motion.div>
  );
};


===== EXAMPLE: reveal-effect-demo =====
Title: reveal-effect-demo

--- file: react/examples/reveal-effect-demo.tsx ---
import { RevealEffect } from "@/registry/react/atlasui/reveal-effect";

export const RevealEffectDemo = () => {
  return (
    <div className="flex flex-col items-center space-y-2">
      <RevealEffect>
        <h1 className="font-bold text-5xl">Atlas UI</h1>
      </RevealEffect>

      <RevealEffect delay={0.2} translateY={15}>
        <p className="font-semibold text-xl text-center">
          This is the same effect you saw on the homepage ;)
        </p>
      </RevealEffect>
    </div>
  );
};


===== EXAMPLE: reveal-effect-speed-example =====
Title: reveal-effect-speed-example

--- file: react/examples/reveal-effect-speed-example.tsx ---
import { RevealEffect } from "@/registry/react/atlasui/reveal-effect";

export const RevealEffectSpeedExample = () => {
  return (
    <div className="flex flex-col items-center space-y-2">
      <RevealEffect speed="fast">
        <p className="font-semibold text-xl">I'm fast as heck.</p>
      </RevealEffect>

      <RevealEffect>
        <p className="font-semibold text-xl text-center">
          This is medium speed, which is the default.
        </p>
      </RevealEffect>

      <RevealEffect speed="slow">
        <p className="font-semibold text-xl">I'm slow as molasses.</p>
      </RevealEffect>

      <p>will this work?</p>
    </div>
  );
};


===== EXAMPLE: reveal-effect-delay-example =====
Title: reveal-effect-delay-example

--- file: react/examples/reveal-effect-delay-example.tsx ---
import { RevealEffect } from "@/registry/react/atlasui/reveal-effect";

export const RevealEffectDelayExample = () => {
  return (
    <div className="flex flex-col items-center space-y-2">
      <RevealEffect speed="fast">
        <p className="font-semibold text-xl">I'm First.</p>
      </RevealEffect>

      <RevealEffect delay={0.2}>
        <p className="font-semibold text-xl">I was delayed by 0.2 seconds.</p>
      </RevealEffect>

      <RevealEffect delay={0.5}>
        <p className="font-semibold text-xl">I was delayed by 0.5 seconds.</p>
      </RevealEffect>
    </div>
  );
};


===== EXAMPLE: reveal-effect-translate-y-example =====
Title: reveal-effect-translate-y-example

--- file: react/examples/reveal-effect-translate-y-example.tsx ---
import { RevealEffect } from "@/registry/react/atlasui/reveal-effect";

export const RevealEffectTranslateExample = () => {
  return (
    <div className="flex flex-col items-center space-y-2">
      <RevealEffect translateY={5}>
        <h1 className="font-bold text-5xl">Atlas UI</h1>
      </RevealEffect>

      <RevealEffect delay={0.2} translateY={10}>
        <p className="font-semibold text-xl text-center">
          An open-source library of prebuilt components.
        </p>
      </RevealEffect>

      <RevealEffect delay={0.4} translateY={15}>
        <p className="font-semibold text-xl text-center">
          Built to save time, inspire creativity, and elevate your UI
        </p>
      </RevealEffect>
    </div>
  );
};



===== COMPONENT: scroll-based-character-reveal =====
Title: Scroll Based Character Reveal
Description: The Scroll Based Character Reveal component.

--- file: react/atlasui/scroll-based-character-reveal.tsx ---
"use client";

import { useRef } from "react";
import { motion, MotionValue, useScroll, useTransform } from "motion/react";

interface ScrollBasedCharacterRevealProps {
  text: string;
}

interface WordProps {
  children: string;
  scrollYProgress: MotionValue<number>;
  range: [number, number];
}

interface CharacterProps {
  children: string;
  scrollYProgress: MotionValue<number>;
  range: [number, number];
}

export const ScrollBasedCharacterReveal = ({
  text,
}: ScrollBasedCharacterRevealProps) => {
  const container = useRef(null);
  const { scrollYProgress } = useScroll({
    target: container,
    offset: ["start 0.8", "start 0.3"],
  });

  const words = text.split(" ");

  return (
    <div className="flex flex-col items-center justify-center ">
      <div className="h-[50vh]" />
      <p
        ref={container}
        className="text-5xl font-bold max-w-5xl text-center flex flex-wrap"
      >
        {words.map((word, i) => {
          const start = i / words.length;
          const end = (start + i) / words.length;

          return (
            <Word
              key={i}
              range={[start, end]}
              scrollYProgress={scrollYProgress}
            >
              {word}
            </Word>
          );
        })}
      </p>
      <div className="h-[50vh]" />
    </div>
  );
};

const Word = ({ children, scrollYProgress, range }: WordProps) => {
  const characters = children.split("");
  const amount = range[1] - range[0];
  const step = amount / children.length;

  return (
    <span className="mr-2 mt-1 relative">
      {characters.map((character, i) => {
        const start = range[0] + step * i;
        const end = range[0] + step * (i + 1);
        return (
          <Character
            key={i}
            range={[start, end]}
            scrollYProgress={scrollYProgress}
          >
            {character}
          </Character>
        );
      })}
    </span>
  );
};

const Character = ({ children, scrollYProgress, range }: CharacterProps) => {
  const opacity = useTransform(scrollYProgress, range, [0, 1]);
  return (
    <span className="relative">
      <span className="absolute opacity-10">{children}</span>
      <motion.span style={{ opacity }}>{children}</motion.span>
    </span>
  );
};


===== EXAMPLE: scroll-based-character-reveal-demo =====
Title: scroll-based-character-reveal-demo

--- file: react/examples/scroll-based-character-reveal-demo.tsx ---
import { ScrollBasedCharacterReveal } from "@/registry/react/atlasui/scroll-based-character-reveal";

export const ScrollBasedCharacterRevealDemo = () => {
  return (
    <ScrollBasedCharacterReveal text="AtlasUI is an open-source library offering a suite of prebuilt animated components for React, Next.js, and Vanilla JS." />
  );
};



===== COMPONENT: scroll-based-text-reveal =====
Title: Scroll Based Text Reveal
Description: The Scroll Based Text Reveal component.

--- file: react/atlasui/scroll-based-text-reveal.tsx ---
"use client";

import { useRef } from "react";
import { motion, useScroll } from "motion/react";

interface ScrollBasedTextRevealProps {
  text: string;
}

export const ScrollBasedTextReveal = ({ text }: ScrollBasedTextRevealProps) => {
  const container = useRef(null);
  const { scrollYProgress } = useScroll({
    target: container,
    offset: ["start 0.8", "start 0.3"],
  });

  return (
    <div className="flex flex-col items-center justify-center ">
      <div className="h-[50vh]" />
      <motion.p
        style={{ opacity: scrollYProgress }}
        ref={container}
        className="text-5xl font-bold max-w-5xl text-center"
      >
        {text}
      </motion.p>
      <div className="h-[50vh]" />
    </div>
  );
};


===== EXAMPLE: scroll-based-text-reveal-demo =====
Title: scroll-based-text-reveal-demo

--- file: react/examples/scroll-based-text-reveal-demo.tsx ---
import { ScrollBasedTextReveal } from "@/registry/react/atlasui/scroll-based-text-reveal";

export const ScrollBasedTextRevealDemo = () => {
  return (
    <ScrollBasedTextReveal text="AtlasUI is an open-source library offering a suite of prebuilt animated components for React, Next.js, and Vanilla JS." />
  );
};



===== COMPONENT: scroll-based-word-reveal =====
Title: Scroll Based Word Reveal
Description: The Scroll Based Word Reveal component.

--- file: react/atlasui/scroll-based-word-reveal.tsx ---
"use client";

import { useRef } from "react";
import { motion, useScroll, useTransform } from "motion/react";

interface ScrollBasedWordRevealProps {
  text: string;
}

export const ScrollBasedWordReveal = ({ text }: ScrollBasedWordRevealProps) => {
  const container = useRef(null);
  const { scrollYProgress } = useScroll({
    target: container,
    offset: ["start 0.8", "start 0.3"],
  });

  const words = text.split(" ");

  return (
    <div className="flex flex-col items-center justify-center ">
      <div className="h-[50vh]" />
      <p
        ref={container}
        className="text-5xl font-bold max-w-5xl flex items-center justify-center flex-wrap"
      >
        {words.map((word, i) => {
          const start = i / words.length;
          const end = (start + i) / words.length;

          const opacity = useTransform(scrollYProgress, [start, end], [0, 1]);

          return (
            <span key={i} className="mr-2 mt-1 relative">
              <span className="absolute opacity-10">{word}</span>
              <motion.span style={{ opacity }}>{word}</motion.span>
            </span>
          );
        })}
      </p>
      <div className="h-[50vh]" />
    </div>
  );
};


===== EXAMPLE: scroll-based-word-reveal-demo =====
Title: scroll-based-word-reveal-demo

--- file: react/examples/scroll-based-word-reveal-demo.tsx ---
import { ScrollBasedWordReveal } from "@/registry/react/atlasui/scroll-based-word-reveal";

export const ScrollBasedWordRevealDemo = () => {
  return (
    <ScrollBasedWordReveal text="AtlasUI is an open-source library offering a suite of prebuilt animated components for React, Next.js, and Vanilla JS." />
  );
};



===== COMPONENT: shiny-button =====
Title: Shiny Button
Description: The Shiny Button component.

--- file: react/atlasui/shiny-button.tsx ---
"use client";

import { cn } from "@/lib/utils";
import { motion, MotionProps } from "motion/react";
import { ButtonHTMLAttributes } from "react";

type MergedProps = Omit<
  ButtonHTMLAttributes<HTMLButtonElement>,
  keyof MotionProps
> &
  MotionProps;

interface ShinyButtonProps extends MergedProps {
  children: React.ReactNode;
  className?: string;
}

export const ShinyButton = ({
  children,
  className,
  ...props
}: ShinyButtonProps) => {
  return (
    <motion.button
      className={cn("px-6 py-2 rounded-md relative radial-gradient", className)}
      initial={{ "--x": "100%", scale: 1 }}
      animate={{ "--x": "-100%" }}
      whileTap={{ scale: 0.97 }}
      transition={{
        repeat: Infinity,
        repeatType: "loop",
        repeatDelay: 1,
        type: "spring",
        stiffness: 20,
        damping: 15,
        mass: 2,
        scale: {
          type: "spring",
          stiffness: 10,
          damping: 5,
          mass: 0.1,
        },
      }}
      {...props}
    >
      <span className="text-neutral-100 tracking-wide font-light h-full w-full block relative linear-mask">
        {children}
      </span>
      <span className="block absolute inset-0 rounded-md p-px linear-overlay" />
    </motion.button>
  );
};


===== EXAMPLE: shiny-button-demo =====
Title: shiny-button-demo

--- file: react/examples/shiny-button-demo.tsx ---
import { ShinyButton } from "@/registry/react/atlasui/shiny-button";

export const ShinyButtonDemo = () => {
  return <ShinyButton>Button</ShinyButton>;
};
